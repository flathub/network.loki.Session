{
    "app-id": "network.loki.Session",
    "base": "org.electronjs.Electron2.BaseApp",
    "base-version": "19.08",
    "runtime": "org.freedesktop.Platform",
    "runtime-version": "19.08",
    "sdk": "org.freedesktop.Sdk",
    "command": "session",
    "separate-locales": false,
    "rename-desktop-file": "session-messenger-desktop.desktop",
    "rename-icon": "session-messenger-desktop",
    "finish-args": [
        "--share=ipc",
        "--socket=x11",
        "--socket=pulseaudio",
        "--share=network",
        "--device=dri",
        "--filesystem=home",
        "--talk-name=org.freedesktop.Notifications",
        "--talk-name=org.kde.StatusNotifierWatcher",
        "--own-name=org.kde.*"
    ],
    "modules": [
        {
            "name": "session-messenger-desktop",
            "buildsystem": "simple",
            "build-commands": [
                "ar x session-messenger-desktop-linux-amd64-*.deb",
                "rm -f session-messenger-desktop-linux-amd64-*.deb",
                "tar xf data.tar.xz",
                "rm -f control.tar.gz data.tar.xz debian-binary",
                "cp -r usr/* opt/* /app",
                "rm -rf /app/share/icons/hicolor/1024x1024/",
                "chmod -R a-s,go+rX,go-w /app/Session",
                "sed -i 's|Exec=.*|Exec=session %U|' /app/share/applications/session-messenger-desktop.desktop",
                "install session.sh /app/bin/session",
                "install -Dm644 network.loki.Session.metainfo.xml /app/share/metainfo/network.loki.Session.metainfo.xml"
            ],
            "sources": [
                {
                    "type": "file",
                    "only-arches": [
                        "x86_64"
                    ],
                    "url": "https://github.com/loki-project/session-desktop/releases/download/v1.4.0/session-messenger-desktop-linux-amd64-1.4.0.deb",
                    "sha256": "1.4.0 # Session  Session uses the Signal encryption protocol and the Loki blockchainâ€™s decentralised Service Node network to provide anonymous, end-to-end encrypted messaging without relying on central servers.  # Release overview: BUILDING.md CONTRIBUTING.md Gruntfile.js LICENSE LOKI-NOTES.md README.md RELEASING.md _locales about.html about_preload.js app background.d.ts background.html background_test.html bower.json build components config coverage debug_log.html debug_log_preload.js dev-app-update.yml.sample dist find_broken_perms.sh fix_broken_perms.sh fixtures fonts images index.html js libloki libtextsecure main.js metrics.html metrics_app.js mnemonic_languages mockup_servers node_modules package.json password.html password_preload.js permissions_popup.html permissions_popup_preload.js preload.js protos proxy.key proxy.pub session-file-server styleguide.config.js stylesheets test tools ts tsconfig.json tsconfig.tsbuildinfo tslint.json yarn.lock Allow group updates from non-admin users (parity with mobile clients) (#1357) BUILDING.md CONTRIBUTING.md Gruntfile.js LICENSE LOKI-NOTES.md README.md RELEASING.md _locales about.html about_preload.js app background.d.ts background.html background_test.html bower.json build components config coverage debug_log.html debug_log_preload.js dev-app-update.yml.sample dist find_broken_perms.sh fix_broken_perms.sh fixtures fonts images index.html js libloki libtextsecure main.js metrics.html metrics_app.js mnemonic_languages mockup_servers node_modules package.json password.html password_preload.js permissions_popup.html permissions_popup_preload.js preload.js protos proxy.key proxy.pub session-file-server styleguide.config.js stylesheets test tools ts tsconfig.json tsconfig.tsbuildinfo tslint.json yarn.lock Enable creation of groups which use shared sender keys (#1359)  ### Bug Fixes BUILDING.md CONTRIBUTING.md Gruntfile.js LICENSE LOKI-NOTES.md README.md RELEASING.md _locales about.html about_preload.js app background.d.ts background.html background_test.html bower.json build components config coverage debug_log.html debug_log_preload.js dev-app-update.yml.sample dist find_broken_perms.sh fix_broken_perms.sh fixtures fonts images index.html js libloki libtextsecure main.js metrics.html metrics_app.js mnemonic_languages mockup_servers node_modules package.json password.html password_preload.js permissions_popup.html permissions_popup_preload.js preload.js protos proxy.key proxy.pub session-file-server styleguide.config.js stylesheets test tools ts tsconfig.json tsconfig.tsbuildinfo tslint.json yarn.lock Incorrect difficulty from a restarting node is now handled by ignoring that node (#1353) BUILDING.md CONTRIBUTING.md Gruntfile.js LICENSE LOKI-NOTES.md README.md RELEASING.md _locales about.html about_preload.js app background.d.ts background.html background_test.html bower.json build components config coverage debug_log.html debug_log_preload.js dev-app-update.yml.sample dist find_broken_perms.sh fix_broken_perms.sh fixtures fonts images index.html js libloki libtextsecure main.js metrics.html metrics_app.js mnemonic_languages mockup_servers node_modules package.json password.html password_preload.js permissions_popup.html permissions_popup_preload.js preload.js protos proxy.key proxy.pub session-file-server styleguide.config.js stylesheets test tools ts tsconfig.json tsconfig.tsbuildinfo tslint.json yarn.lock Fixed open group invitation messages (#1354) BUILDING.md CONTRIBUTING.md Gruntfile.js LICENSE LOKI-NOTES.md README.md RELEASING.md _locales about.html about_preload.js app background.d.ts background.html background_test.html bower.json build components config coverage debug_log.html debug_log_preload.js dev-app-update.yml.sample dist find_broken_perms.sh fix_broken_perms.sh fixtures fonts images index.html js libloki libtextsecure main.js metrics.html metrics_app.js mnemonic_languages mockup_servers node_modules package.json password.html password_preload.js permissions_popup.html permissions_popup_preload.js preload.js protos proxy.key proxy.pub session-file-server styleguide.config.js stylesheets test tools ts tsconfig.json tsconfig.tsbuildinfo tslint.json yarn.lock Fixed a bug which caused changes to disappearing messages settings for groups to be displayed in one-to-one chats (#1359)  ### Signatures  ``` -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA512  The following hashes have been signed for verification using keejef's GPG keys located in the loki core repository at https://github.com/loki-project/loki-core/blob/master/utils/gpg_keys/KeeJef.asc.  SHA256 Hashes  latest-linux.yml ef63889c69072ecba59dcd83051a7cf5f345a688184bb623209b30f0aa3fb0bf  latest-mac.yml 73fac35574d7122d39a54395d896ff95e12736de0741c3e241e52caf99447f1d  latest.yml 193d30bb712b71a574d851af38c7f389fb4b7bca410bdf682b9e362a40365e83 session-messenger-desktop-linux-amd64-1.4.0.deb aabb02d1f0e4880664011b8f509a54b1aef0c1430f0cbc426dc66340ea751a6d session-messenger-desktop-linux-x86_64-1.4.0.AppImage 2de89d89953334f170937eb1a5cd0a7a8f5c3d06045f5d3567d1cff9e4e608ef session-messenger-desktop-mac-1.4.0.dmg a166d7e309e8ebb76beaa8cb58777e6c3280daffd3bfdb89477d4914b7f76895 session-messenger-desktop-mac-1.4.0.dmg.blockmap 84b01cce33239d7508e1d9f051c3da0b52573d7120a818d950bbbb2f8c3eb298 session-messenger-desktop-mac-1.4.0.zip 1e89d1a944a0b33d52bb0eec08d5f84643cf46bf10d69c66a7435d58fffab41a session-messenger-desktop-win-1.4.0.exe 37ba23f348db598b18c54760eddfed8a532725a959ede2e10ba04f0bfea5435f session-messenger-desktop-win-1.4.0.exe.blockmap 6a5bfdb78a0d7599f8f5958236887d52af308ec3b46803d7de845df26b4f22ae -----BEGIN PGP SIGNATURE----- Version: GnuPG v1  iQEcBAEBCgAGBQJferlTAAoJEKyXFIlc5F1VM7kH/RxTJ4jZqgHRu0hsGYhNtMDa yiAKE3q/MkSulh/FoMafQzPI76hj4X0vGd1xFGDJWjQfK1iTUCHtAKZ5Ucfbjnl0 1quxlcpQK1s6yJ3+X31Mny1mYw5w7k5EgW6706/bMp4LX5FRlywmM13E3lNJIcf/ ZqnGigP46+rlMdfiHv3WfWAG8ORySmQeAx4QOSm762/b7AG8K0clUumFTOPTdoQm XGohTm71cN6XEAdPJ6o+2p+sO8ZIHaKWRPT1tr14vPFIeKWO5BGbtMXT8wrGbSvz F0qbntvu3acPE0jK/NpCBJsHFI7keQ7C2Nojoy6zq5bf/n2iILmTRJcubKSN1Og= =E6Wv -----END PGP SIGNATURE-----  ```"
                },
                {
                    "type": "script",
                    "dest-filename": "session.sh",
                    "commands": [
                        "export TMPDIR=\"$XDG_RUNTIME_DIR/app/$FLATPAK_ID\"",
                        "exec zypak-wrapper /app/Session/session-messenger-desktop \"$@\""
                    ]
                },
                {
                    "type": "file",
                    "path": "network.loki.Session.metainfo.xml"
                }
            ]
        }
    ]
}